<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kuis Interaktif Pasang Surut</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .quiz-option.selected {
            background-color: #3b82f6; /* bg-blue-500 */
            color: white;
            border-color: #2563eb; /* border-blue-600 */
        }
        #explanationModal, #nav-panel {
            transition: opacity 0.3s ease;
        }
        .nav-btn {
            border: 1px solid #d1d5db;
            background-color: #f9fafb;
        }
        .nav-btn.answered {
            background-color: #dbeafe; /* bg-blue-100 */
            border-color: #93c5fd; /* border-blue-300 */
            color: #1e40af; /* text-blue-800 */
        }
        .nav-btn.current {
            background-color: #3b82f6;
            border-color: #2563eb;
            color: white;
            font-weight: bold;
        }
        .topic-button {
            transition: all 0.2s ease-in-out;
        }
        .topic-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800 flex items-center justify-center min-h-screen p-4">
    <div id="quiz-container" class="w-full max-w-4xl mx-auto bg-white p-6 sm:p-8 rounded-2xl shadow-lg">
        <!-- Layar Awal (Pemilihan Topik) -->
        <div id="start-screen">
            <h1 class="text-3xl sm:text-4xl font-bold text-center text-blue-600 mb-4">Kuis Pasang Surut Laut</h1>
            <p class="text-center text-gray-600 mb-8">Pilih topik untuk memulai kuis, berdasarkan materi yang diberikan.</p>
            <div id="topic-selection" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <!-- Tombol topik akan di-generate oleh JavaScript -->
            </div>
        </div>

        <!-- Layar Kuis -->
        <div id="quiz-screen" class="hidden">
            <div class="flex justify-between items-start mb-2">
                 <div>
                    <h2 id="quiz-topic-title" class="text-2xl font-bold text-blue-600"></h2>
                    <button id="nav-toggle-btn" onclick="toggleNavPanel()" class="text-sm text-blue-600 hover:underline mt-1">
                        Navigasi Soal
                    </button>
                </div>
                <span id="question-counter" class="text-lg font-semibold text-gray-500 text-right"></span>
            </div>
            
             <div class="w-full bg-gray-200 rounded-full h-2.5 mb-6">
                <div id="progress-bar" class="bg-blue-600 h-2.5 rounded-full transition-all duration-300"></div>
            </div>
            
            <div id="question-card" class="bg-blue-50 border-2 border-blue-200 p-6 rounded-xl min-h-[150px] flex items-center justify-center mb-6">
                <p id="question-text" class="text-center text-lg sm:text-xl"></p>
            </div>

            <div id="options-container" class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"></div>
            <div id="essay-container" class="hidden mb-6">
                 <textarea id="essay-answer" class="w-full p-4 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition" rows="6" placeholder="Ketik jawaban esai Anda di sini..."></textarea>
            </div>

            <div class="flex justify-between items-center mt-8">
                 <button id="prev-btn" onclick="prevQuestion()" class="bg-gray-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-600 transition duration-300">Sebelumnya</button>
                 <button onclick="showResults()" class="bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700 transition duration-300">Lihat Hasil</button>
                 <button id="next-btn" onclick="nextQuestion()" class="bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 transition duration-300">Selanjutnya</button>
            </div>
        </div>

        <!-- Layar Hasil -->
        <div id="result-screen" class="hidden text-center">
            <h2 class="text-3xl font-bold text-blue-600 mb-4">Hasil Kuis</h2>
            <div id="topic-scores-breakdown" class="mb-8 text-left border rounded-lg p-4">
                <!-- Rincian skor per topik akan ditampilkan di sini -->
            </div>
            <p class="text-lg mb-6">Tinjau jawaban Anda di bawah ini:</p>
            <div id="answers-review" class="text-left max-h-[40vh] overflow-y-auto p-4 bg-gray-50 rounded-lg border"></div>
            <div class="mt-8 flex justify-center space-x-4">
                <button onclick="restartQuiz()" class="bg-blue-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-blue-700 transition duration-300">
                    Kembali ke Awal
                </button>
            </div>
        </div>
    </div>

    <!-- Modal Navigasi -->
    <div id="nav-panel" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 hidden z-40" onclick="toggleNavPanel()">
        <div class="bg-white rounded-2xl p-6 max-w-3xl w-full shadow-2xl" onclick="event.stopPropagation()">
            <h3 class="text-xl font-bold mb-4">Lompat ke Soal</h3>
            <div id="nav-grid" class="grid grid-cols-5 sm:grid-cols-10 gap-2 max-h-[60vh] overflow-y-auto p-2"></div>
            <div class="mt-6 text-right">
                <button onclick="toggleNavPanel()" class="bg-gray-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-600">Tutup</button>
            </div>
        </div>
    </div>

    <!-- Modal Penjelasan -->
    <div id="explanationModal" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 hidden z-50" onclick="closeModal()">
        <div class="bg-white rounded-2xl p-8 max-w-2xl w-full shadow-2xl transform transition-transform duration-300 scale-95" onclick="event.stopPropagation()">
            <h3 class="text-2xl font-bold text-blue-600 mb-4" id="modal-question"></h3>
            <p class="text-lg mb-2 font-semibold">Jawaban yang Benar:</p>
            <p class="text-green-600 bg-green-100 p-3 rounded-lg mb-4" id="modal-correct-answer"></p>
            <p class="text-lg mb-2 font-semibold">Penjelasan:</p>
            <p id="modal-explanation" class="text-gray-700"></p>
            <div class="mt-6 text-right">
                <button onclick="closeModal()" class="bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 transition">Tutup</button>
            </div>
        </div>
    </div>

    <script>
        // --- Data Kuis (Dikelompokkan per Topik) ---
        const quizDataCategorized = {
            "Pengantar & Tipe Pasut": {
                mcq: [
                    { question: "Apa definisi dari pasang surut laut?", options: ["Gerakan acak permukaan laut", "Naik turunnya muka laut secara reguler dan periodik", "Gelombang yang disebabkan oleh angin", "Arus laut yang konstan"], answer: "Naik turunnya muka laut secara reguler dan periodik", explanation: "Pasang surut adalah fenomena alamiah berupa naik turunnya permukaan air laut secara berkala yang disebabkan oleh gaya tarik gravitasi benda-benda langit, terutama bulan dan matahari." },
                    { question: "Tipe pasang surut yang mengalami dua kali pasang dan dua kali surut dalam sehari dengan tinggi yang hampir sama disebut...", options: ["Diurnal", "Semidiurnal", "Mixed Type", "Solar Tide"], answer: "Semidiurnal", explanation: "Tipe semidiurnal (pasut harian ganda) memiliki dua siklus pasang dan surut dalam periode sekitar 24 jam 50 menit, dengan ketinggian pasang dan surut yang relatif sama." },
                    { question: "Pasang surut yang terjadi saat posisi Matahari, Bumi, dan Bulan berada dalam satu garis lurus (bulan baru atau purnama) disebut...", options: ["Pasang Perbani (Neap Tide)", "Pasang Purnama (Spring Tide)", "Pasang Diurnal", "Pasang Ekuatorial"], answer: "Pasang Purnama (Spring Tide)", explanation: "Saat Spring Tide, gaya tarik gravitasi Bulan dan Matahari saling memperkuat, menghasilkan tunggang pasut (perbedaan antara pasang tertinggi dan surut terendah) yang maksimal." },
                    { question: "Pasang Perbani (Neap Tide) terjadi ketika posisi Bumi, Bulan, dan Matahari membentuk sudut...", options: ["0 derajat", "45 derajat", "90 derajat", "180 derajat"], answer: "90 derajat", explanation: "Saat Neap Tide, gaya tarik gravitasi Bulan dan Matahari saling tegak lurus (membentuk sudut 90 derajat), sehingga saling meniadakan dan menghasilkan tunggang pasut yang minimal." },
                    { question: "Bilangan Formzahl (F) digunakan untuk menentukan...", options: ["Kecepatan arus pasut", "Tipe pasang surut suatu perairan", "Periode pasut", "Amplitudo pasut"], answer: "Tipe pasang surut suatu perairan", explanation: "Bilangan Formzahl adalah rasio antara jumlah amplitudo komponen diurnal (K1 + O1) dengan jumlah amplitudo komponen semidiurnal (M2 + S2), yang mengklasifikasikan tipe pasut." },
                    { question: "Jika nilai F â‰¤ 0.25, maka tipe pasang surut di perairan tersebut adalah...", options: ["Pasut tunggal (diurnal)", "Pasut campuran condong tunggal", "Pasut campuran condong ganda", "Pasut ganda murni (semidiurnal)"], answer: "Pasut ganda murni (semidiurnal)", explanation: "Nilai F yang sangat kecil menunjukkan dominasi komponen semidiurnal, sehingga menghasilkan pasut harian ganda yang murni." },
                    { question: "Dalam navigasi, penentuan datum peta sangat penting. Datum ini seringkali didasarkan pada...", options: ["Rata-rata muka laut (Mean Sea Level)", "Pasang tertinggi (Highest High Water)", "Surut terendah (Lowest Low Water)", "Ketinggian ombak maksimum"], answer: "Surut terendah (Lowest Low Water)", explanation: "Menggunakan surut terendah sebagai datum (titik nol kedalaman) memberikan faktor keamanan bagi kapal agar tidak terdampar pada kondisi air surut." },
                    { question: "Kondisi pasang surut apa yang paling berisiko bagi kapal-kapal besar untuk melewati bawah jembatan?", options: ["Saat surut terendah", "Saat pasang purnama", "Saat pasang perbani", "Saat slack water"], answer: "Saat pasang purnama", explanation: "Pasang purnama menghasilkan air pasang yang paling tinggi, sehingga mengurangi ruang bebas (clearance) di bawah jembatan secara signifikan." },
                    { question: "Periode waktu antara dua pasang berturut-turut pada pasut semidiurnal adalah sekitar...", options: ["6 jam 12.5 menit", "12 jam 25 menit", "24 jam", "24 jam 50 menit"], answer: "12 jam 25 menit", explanation: "Satu hari lunar (waktu yang dibutuhkan bulan untuk kembali ke posisi yang sama di langit) adalah 24 jam 50 menit. Pada pasut semidiurnal, ada dua siklus dalam periode ini, sehingga satu siklus (dari pasang ke pasang berikutnya) adalah setengahnya." },
                    { question: "Apa yang dimaksud dengan 'tunggang pasut' (tidal range)?", options: ["Waktu terjadinya pasang", "Ketinggian rata-rata air laut", "Perbedaan vertikal antara air pasang tertinggi dan air surut terendah", "Kecepatan arus saat pasang"], answer: "Perbedaan vertikal antara air pasang tertinggi dan air surut terendah", explanation: "Tunggang pasut adalah ukuran amplitudo vertikal dari siklus pasang surut di suatu lokasi." },
                    { question: "Kapan tunggang pasut mencapai nilai minimum?", options: ["Saat bulan baru", "Saat bulan purnama", "Saat bulan seperempat atau tiga perempat (pasang perbani)", "Saat gerhana bulan"], answer: "Saat bulan seperempat atau tiga perempat (pasang perbani)", explanation: "Pada saat pasang perbani (neap tide), gaya tarik matahari dan bulan saling mengurangi, sehingga menghasilkan perbedaan ketinggian antara pasang dan surut yang paling kecil." },
                    { question: "Mengapa pemahaman pasang surut penting dalam operasi militer pendaratan pantai?", options: ["Untuk menentukan warna kamuflase", "Untuk memprediksi cuaca", "Untuk memastikan kedalaman air cukup bagi kapal pendarat dan menghindari kandas", "Untuk menentukan arah angin"], answer: "Untuk memastikan kedalaman air cukup bagi kapal pendarat dan menghindari kandas", explanation: "Seperti pada kasus Pertempuran Tarawa, kesalahan prediksi tunggang pasut menyebabkan kapal pendarat terdampar jauh dari pantai, mengakibatkan kerugian besar." },
                    { question: "Fenomena di mana ketinggian dua air pasang dalam satu hari tidak sama disebut...", options: ["Ketidaksamaan harian (diurnal inequality)", "Pasut purnama", "Pasut perbani", "Resonansi pasut"], answer: "Ketidaksamaan harian (diurnal inequality)", explanation: "Ini terjadi karena deklinasi Bulan (sudut orbit bulan terhadap ekuator Bumi), yang menyebabkan satu 'tonjolan' pasut lebih tinggi di satu belahan bumi daripada yang lain." },
                    { question: "Jika suatu perairan memiliki nilai F > 3.0, maka tipe pasutnya adalah...", options: ["Semidiurnal", "Diurnal (tunggal)", "Campuran condong ganda", "Campuran condong tunggal"], answer: "Diurnal (tunggal)", explanation: "Nilai F yang besar (> 3.0) menunjukkan bahwa komponen diurnal sangat dominan, sehingga hanya terjadi satu kali pasang dan satu kali surut dalam sehari." },
                    { question: "Istilah 'flood current' merujuk pada...", options: ["Arus saat air surut bergerak keluar teluk", "Arus saat air pasang bergerak masuk teluk", "Kondisi tanpa arus saat puncak pasang atau surut", "Banjir yang disebabkan oleh pasang tinggi"], answer: "Arus saat air pasang bergerak masuk teluk", explanation: "'Flood current' adalah gerakan horizontal massa air yang masuk ke estuari atau teluk saat air pasang." },
                    { question: "Istilah 'slack water' terjadi ketika...", options: ["Arus pasut mencapai kecepatan maksimum", "Terjadi pasang purnama", "Kecepatan arus pasut menjadi nol sesaat", "Air laut sangat keruh"], answer: "Kecepatan arus pasut menjadi nol sesaat", explanation: "Slack water terjadi pada saat puncak air pasang atau lembah air surut, yaitu ketika arah arus akan berbalik." }
                ],
                essay: []
            },
            "Gaya Pembangkit Pasut (GPP)": {
                mcq: [
                    { question: "Gaya Pembangkit Pasang Surut (GPP) adalah resultan dari dua gaya utama, yaitu...", options: ["Gaya gravitasi Bumi dan gaya Coriolis", "Gaya gravitasi Bulan/Matahari dan gaya sentrifugal", "Gaya angin dan gaya gesek dasar laut", "Gaya sentripetal dan gaya gravitasi Bumi"], answer: "Gaya gravitasi Bulan/Matahari dan gaya sentrifugal", explanation: "GPP timbul dari perbedaan antara gaya tarik gravitasi benda langit (misal Bulan) di berbagai titik di Bumi dan gaya sentrifugal yang timbul akibat revolusi sistem Bumi-Bulan mengelilingi pusat massa bersamanya (barycenter)." },
                    { question: "Mengapa terjadi dua 'tonjolan' (bulges) air di Bumi, satu menghadap Bulan dan satu lagi membelakangi Bulan?", options: ["Karena Bumi berotasi", "Karena adanya dua bulan", "Karena di sisi yang menghadap Bulan, gaya gravitasi > gaya sentrifugal; di sisi berlawanan, gaya sentrifugal > gaya gravitasi", "Karena efek gaya Coriolis"], answer: "Karena di sisi yang menghadap Bulan, gaya gravitasi > gaya sentrifugal; di sisi berlawanan, gaya sentrifugal > gaya gravitasi", explanation: "Di sisi terdekat dengan Bulan, tarikan gravitasi Bulan lebih kuat. Di sisi terjauh, gaya sentrifugal (yang sama di seluruh titik di Bumi dan arahnya menjauhi Bulan) lebih dominan daripada tarikan gravitasi Bulan yang melemah." },
                    { question: "Pusat massa bersama dari sistem Bumi-Bulan, yang menjadi pusat revolusi kedua benda tersebut, disebut...", options: ["Pusat Bumi", "Pusat Bulan", "Barycenter", "Apogee"], answer: "Barycenter", explanation: "Barycenter adalah titik kesetimbangan massa sistem Bumi-Bulan. Karena massa Bumi jauh lebih besar, titik ini berada di dalam Bumi, sekitar 4660 km dari pusat Bumi." },
                    { question: "Gaya sentrifugal yang dialami oleh setiap titik di permukaan Bumi akibat revolusi sistem Bumi-Bulan memiliki...", options: ["Besar dan arah yang berbeda-beda", "Besar yang berbeda, namun arah yang sama", "Besar yang sama, namun arah yang berbeda", "Besar dan arah yang sama di semua titik"], answer: "Besar dan arah yang sama di semua titik", explanation: "Setiap titik di Bumi bergerak dalam lintasan melingkar dengan radius yang sama (jarak pusat Bumi ke barycenter) dan kecepatan sudut yang sama, sehingga gaya sentrifugalnya sama besar dan arahnya selalu sejajar menjauhi Bulan." },
                    { question: "Gaya tarik gravitasi Bulan paling kuat dirasakan di titik mana di permukaan Bumi?", options: ["Di pusat Bumi", "Di titik yang paling dekat dengan Bulan (zenith)", "Di titik yang paling jauh dari Bulan (nadir)", "Di kutub"], answer: "Di titik yang paling dekat dengan Bulan (zenith)", explanation: "Sesuai hukum gravitasi Newton, gaya tarik berbanding terbalik dengan kuadrat jarak. Semakin dekat jaraknya, semakin kuat gayanya." },
                    { question: "Komponen GPP manakah yang paling dominan dalam menyebabkan pergerakan horizontal massa air?", options: ["Komponen vertikal (Fv)", "Komponen horizontal (Fh) atau 'tractive force'", "Gaya gravitasi Bumi", "Gaya Coriolis"], answer: "Komponen horizontal (Fh) atau 'tractive force'", explanation: "Meskipun kecil, komponen horizontal tidak diimbangi oleh gaya besar lain (seperti gravitasi yang mengimbangi komponen vertikal), sehingga efektif dalam menggerakkan air secara horizontal dan membentuk tonjolan pasut." },
                    { question: "Di lokasi mana komponen horizontal (tractive force) dari GPP mencapai nilai maksimum?", options: ["Tepat di bawah bulan (zenith) dan di seberangnya (nadir)", "Di kutub utara dan selatan", "Pada sudut 45Â°, 135Â°, 225Â°, dan 315Â° dari titik di bawah bulan", "Di ekuator"], answer: "Pada sudut 45Â°, 135Â°, 225Â°, dan 315Â° dari titik di bawah bulan", explanation: "Pada titik-titik ini, resultan gaya memiliki komponen tangensial (horizontal) yang paling besar, mendorong air menuju titik zenith dan nadir." },
                    { question: "Di titik zenith (tepat di bawah Bulan), nilai komponen horizontal (tractive force) dari GPP adalah...", options: ["Maksimum positif", "Maksimum negatif", "Nol", "Tidak terdefinisi"], answer: "Nol", explanation: "Di titik zenith dan nadir, GPP bekerja murni dalam arah vertikal (mengangkat atau menekan air), sehingga komponen horizontalnya adalah nol. Namun, titik-titik ini adalah tempat akumulasi air." },
                    { question: "Massa Bumi kira-kira ... kali massa Bulan.", options: ["10", "81", "333", "1000"], answer: "81", explanation: "Rasio massa ini menyebabkan barycenter sistem Bumi-Bulan terletak di dalam mantel Bumi, bukan di pusatnya." },
                    { question: "Jika dibandingkan dengan gaya gravitasi Bumi (g), besar komponen vertikal GPP adalah...", options: ["Sangat besar, sekitar 10% dari g", "Cukup signifikan, sekitar 1% dari g", "Sangat kecil dan dapat diabaikan", "Sama besar dengan g"], answer: "Sangat kecil dan dapat diabaikan", explanation: "Komponen vertikal GPP hanya sekitar 1/10.000.000 dari gravitasi Bumi, sehingga efeknya dalam mengangkat air laut sangat kecil dibandingkan gaya gravitasi itu sendiri." },
                    { question: "Meskipun Matahari jauh lebih masif daripada Bulan, pengaruhnya terhadap pasang surut hanya sekitar 46% dari pengaruh Bulan. Mengapa?", options: ["Karena Matahari lebih panas", "Karena jarak Matahari ke Bumi sangat jauh lebih besar daripada jarak Bulan ke Bumi", "Karena orbit Bumi miring", "Karena Matahari tidak memiliki gaya sentrifugal"], answer: "Karena jarak Matahari ke Bumi sangat jauh lebih besar daripada jarak Bulan ke Bumi", explanation: "Gaya pembangkit pasut (GPP) berbanding terbalik dengan pangkat tiga jarak. Meskipun massa Matahari besar, jaraknya yang sangat jauh mengurangi pengaruh GPP-nya secara signifikan." },
                    { question: "Barycenter sistem Bumi-Bulan terletak...", options: ["Tepat di pusat Bumi", "Di antara Bumi dan Bulan, di luar atmosfer Bumi", "Di dalam mantel Bumi", "Tepat di permukaan Bumi"], answer: "Di dalam mantel Bumi", explanation: "Karena massa Bumi sekitar 81 kali massa Bulan, titik keseimbangan massa (barycenter) berada sekitar 4660 km dari pusat Bumi, yang masih berada di dalam planet." },
                    { question: "Gerakan Bumi mengelilingi barycenter digambarkan sebagai 'revolution without rotation'. Apa artinya?", options: ["Bumi berhenti berotasi", "Bumi berputar lebih cepat", "Setiap titik di Bumi mengikuti lintasan melingkar yang sama tanpa mengubah orientasinya", "Hanya pusat Bumi yang bergerak"], answer: "Setiap titik di Bumi mengikuti lintasan melingkar yang sama tanpa mengubah orientasinya", explanation: "Ini adalah model konseptual untuk menjelaskan mengapa gaya sentrifugal sama di seluruh bagian Bumi. Bayangkan memindahkan sebuah objek dalam lingkaran tanpa memutarnya." },
                    { question: "Gaya yang menyebabkan tonjolan pasut di sisi Bumi yang menjauhi Bulan adalah...", options: ["Gaya tarik Matahari", "Gaya gravitasi Bulan yang lebih kuat", "Gaya sentrifugal yang lebih dominan dari gaya gravitasi Bulan", "Efek Coriolis"], answer: "Gaya sentrifugal yang lebih dominan dari gaya gravitasi Bulan", explanation: "Di sisi yang jauh dari Bulan, gaya tarik gravitasi Bulan melemah, sementara gaya sentrifugal tetap sama besarnya, sehingga resultan gayanya menjauhi Bulan." },
                    { question: "Periode revolusi sistem Bumi-Bulan mengitari barycenter adalah sekitar...", options: ["24 jam", "27,3 hari", "29,5 hari", "365,25 hari"], answer: "27,3 hari", explanation: "Ini adalah periode sideris bulan, yaitu waktu yang dibutuhkan Bulan untuk mengorbit Bumi relatif terhadap bintang-bintang." },
                    { question: "Gaya sentrifugal yang timbul dalam sistem Bumi-Bulan diimbangi oleh gaya apa di pusat Bumi?", options: ["Gaya gravitasi Bumi", "Gaya tarik Matahari", "Gaya tarik Bulan di pusat Bumi", "Tidak ada yang mengimbangi"], answer: "Gaya tarik Bulan di pusat Bumi", explanation: "Di pusat Bumi, gaya sentrifugal dan gaya tarik gravitasi Bulan dianggap sama besar dan berlawanan arah, menciptakan titik keseimbangan." }
                ],
                essay: []
            },
            "Potensial & Harmonik": {
                mcq: [
                    { question: "Mengapa konsep 'Potensial' Pembangkit Pasut digunakan dalam analisis pasut selain konsep 'Gaya'?", options: ["Karena potensial lebih mudah diukur di lapangan", "Karena potensial adalah besaran skalar, yang menyederhanakan perhitungan matematis dibandingkan gaya (vektor)", "Karena potensial hanya berlaku untuk Bulan", "Karena gaya tidak dapat dihitung"], answer: "Karena potensial adalah besaran skalar, yang menyederhanakan perhitungan matematis dibandingkan gaya (vektor)", explanation: "Bekerja dengan besaran skalar (potensial) menghilangkan kebutuhan untuk menangani komponen arah (vektor), membuat ekspansi dan manipulasi matematika menjadi lebih sederhana." },
                    { question: "Ekspansi potensial GPP ke dalam Polinomial Legendre menguraikan potensial menjadi beberapa suku (V0, V1, V2, ...). Suku manakah yang bertanggung jawab langsung menghasilkan GPP?", options: ["V0", "V1", "V2", "Semua suku"], answer: "V2", explanation: "Suku V0 adalah potensial konstan (tidak menghasilkan gaya). Suku V1 menghasilkan gaya sentrifugal. Suku V2 adalah suku pertama yang menghasilkan gaya diferensial yang menyebabkan tonjolan pasut semidiurnal." },
                    { question: "Dalam ekspansi potensial GPP, suku V1 menghasilkan gaya yang...", options: ["Menyebabkan tonjolan pasut diurnal", "Sama dengan gaya sentrifugal akibat revolusi sistem Bumi-Bulan", "Menyebabkan pasut periode panjang", "Dapat diabaikan karena sangat kecil"], answer: "Sama dengan gaya sentrifugal akibat revolusi sistem Bumi-Bulan", explanation: "Suku V1 menghasilkan gaya konstan yang besarnya sama dengan gaya tarik Bulan di pusat Bumi, yang merupakan gaya yang menghasilkan percepatan sentrifugal." },
                    { question: "Suku V3 dalam ekspansi potensial GPP, meskipun kecil, berkontribusi pada...", options: ["Pasut semidiurnal", "Asimetri antara tonjolan pasut di sisi zenith dan nadir", "Pasut periode panjang", "Gaya Coriolis"], answer: "Asimetri antara tonjolan pasut di sisi zenith dan nadir", explanation: "Suku V3 mengandung komponen terdiurnal dan menyebabkan sedikit perbedaan ketinggian antara pasang di sisi yang menghadap Bulan (zenith) dan sisi yang membelakangi Bulan (nadir)." },
                    { question: "Dalam analisis harmonik, komponen pasut yang memiliki periode sekitar setengah hari (sekitar 12 jam) disebut...", options: ["Spesies Diurnal", "Spesies Semidiurnal", "Spesies Periode Panjang", "Overtide"], answer: "Spesies Semidiurnal", explanation: "Komponen semidiurnal (seperti M2 dan S2) menyebabkan dua kali pasang dan dua kali surut dalam satu hari lunar." },
                    { question: "Komponen pasut M2 adalah singkatan dari...", options: ["Main Solar", "Mean Semidiurnal", "Principal Lunar Semidiurnal", "Maximum Lunar"], answer: "Principal Lunar Semidiurnal", explanation: "M2 adalah komponen harmonik semidiurnal utama yang disebabkan oleh gaya tarik Bulan." },
                    { question: "Komponen pasut S2 disebabkan oleh...", options: ["Bulan", "Matahari", "Interaksi Bulan dan Matahari", "Gesekan dasar laut"], answer: "Matahari", explanation: "S2 adalah komponen harmonik semidiurnal utama yang disebabkan oleh gaya tarik Matahari (Principal Solar Semidiurnal)." },
                    { question: "Komponen pasut diurnal (misalnya K1, O1) memiliki periode sekitar...", options: ["6 jam", "12 jam", "24 jam", "14 hari"], answer: "24 jam", explanation: "Komponen diurnal (harian) menyebabkan satu kali pasang dan satu kali surut dalam satu hari lunar." },
                    { question: "Komponen pasut O1 (Principal Lunar Diurnal) terutama disebabkan oleh...", options: ["Jarak Bulan yang bervariasi", "Deklinasi Bulan", "Kecepatan orbit Bulan", "Pengaruh Matahari"], answer: "Deklinasi Bulan", explanation: "Komponen diurnal timbul akibat adanya deklinasi (kemiringan orbit) Bulan dan Matahari terhadap ekuator Bumi. O1 adalah komponen diurnal utama dari Bulan." },
                    { question: "Komponen K1 (Luni-solar Diurnal) timbul karena...", options: ["Hanya Bulan", "Hanya Matahari", "Kombinasi efek deklinasi Bulan dan Matahari", "Efek perairan dangkal"], answer: "Kombinasi efek deklinasi Bulan dan Matahari", explanation: "K1 adalah komponen diurnal penting yang dihasilkan dari gabungan gaya tarik Bulan dan Matahari saat keduanya memiliki deklinasi." },
                    { question: "Komponen periode panjang, seperti Mf (Lunar Fortnightly), memiliki periode sekitar...", options: ["1 hari", "7 hari", "14 hari", "27 hari"], answer: "14 hari", explanation: "Mf memiliki periode sekitar 13,66 hari dan terkait dengan variasi deklinasi bulanan Bulan." },
                    { question: "Apa yang dimaksud dengan 'spesies' dalam analisis harmonik pasut?", options: ["Jenis organisme yang terpengaruh pasut", "Pengelompokan komponen harmonik berdasarkan frekuensi atau periode yang berdekatan", "Lokasi geografis dengan tipe pasut tertentu", "Metode pengukuran pasut"], answer: "Pengelompokan komponen harmonik berdasarkan frekuensi atau periode yang berdekatan", explanation: "Komponen-komponen harmonik dikelompokkan menjadi spesies semidiurnal (sekitar 2 siklus/hari), diurnal (sekitar 1 siklus/hari), periode panjang (frekuensi rendah), dan perairan dangkal (frekuensi tinggi)." },
                    { question: "Bilangan Doodson (D) adalah konstanta yang digunakan dalam perumusan potensial pasut. Nilainya bergantung pada...", options: ["Lintang pengamat", "Massa Bulan, radius Bumi, dan jarak rata-rata Bumi-Bulan", "Waktu dalam sehari", "Kedalaman laut"], answer: "Massa Bulan, radius Bumi, dan jarak rata-rata Bumi-Bulan", explanation: "Konstanta Doodson (D) adalah faktor skala yang menggabungkan konstanta-konstanta fisika dasar (G, massa bulan, jari-jari Bumi, dan jarak rata-rata Bumi-Bulan) untuk menyederhanakan persamaan potensial." },
                    { question: "Variasi jarak Bulan-Bumi (antara perigee dan apogee) menyebabkan variasi GPP yang dikenal sebagai...", options: ["Ketidaksamaan deklinasi (declinational inequality)", "Ketidaksamaan paralaktik (parallactic inequality)", "Ketidaksamaan fase (phase inequality)", "Ketidaksamaan harian (diurnal inequality)"], answer: "Ketidaksamaan paralaktik (parallactic inequality)", explanation: "Variasi jarak ini memodulasi amplitudo komponen pasut, misalnya menghasilkan komponen N2 (Larger Lunar Elliptic)." },
                    { question: "Komponen pasut perairan dangkal (shallow water tides) seperti M4 dan MS4 timbul karena...", options: ["Gaya tarik planet lain", "Variasi deklinasi Matahari", "Interaksi gelombang pasut dengan dasar laut dan garis pantai", "Perubahan tekanan atmosfer"], answer: "Interaksi gelombang pasut dengan dasar laut dan garis pantai", explanation: "Saat gelombang pasut menjalar ke perairan dangkal, bentuknya terdistorsi oleh gesekan dan batasan lainnya, menciptakan komponen harmonik baru dengan frekuensi yang lebih tinggi (overtides dan compound tides)." },
                    { question: "Komponen M4 adalah 'overtide' dari komponen...", options: ["S2", "K1", "M2", "O1"], answer: "M2", explanation: "M4 memiliki frekuensi tepat dua kali lipat dari M2 dan merupakan hasil dari distorsi non-linear gelombang M2 di perairan dangkal." }
                ],
                essay: []
            },
            "Teori Pasut Setimbang": {
                mcq: [
                    { question: "Teori Pasut Setimbang (Equilibrium Tide Theory) mengasumsikan bahwa...", options: ["Bumi ditutupi daratan dan lautan", "Seluruh permukaan Bumi ditutupi oleh lautan yang merespons GPP secara seketika", "Lautan memiliki kedalaman yang bervariasi", "Ada gaya gesek dan inersia di lautan"], answer: "Seluruh permukaan Bumi ditutupi oleh lautan yang merespons GPP secara seketika", explanation: "Teori ini adalah model ideal yang mengasumsikan Bumi adalah bola sempurna yang tertutup air, dan permukaan air setiap saat berada dalam kesetimbangan sempurna dengan gaya pembangkit pasut, tanpa memperhitungkan inersia atau hambatan." },
                    { question: "Menurut teori pasut setimbang, bentuk permukaan laut di bawah pengaruh GPP adalah...", options: ["Bola sempurna", "Kubus", "Elipsoid dengan dua tonjolan", "Bentuk tidak beraturan"], answer: "Elipsoid dengan dua tonjolan", explanation: "Permukaan laut setimbang akan membentuk elipsoid dengan sumbu panjangnya mengarah ke benda langit (misalnya Bulan), menciptakan dua tonjolan pasang." },
                    { question: "Salah satu alasan utama mengapa pasut yang sebenarnya (pasut dinamis) berbeda dari pasut setimbang adalah...", options: ["Massa Bulan tidak konstan", "Adanya daratan (benua) yang menghalangi perambatan gelombang pasut", "Gravitasi Bumi berubah-ubah", "Suhu air laut yang tidak seragam"], answer: "Adanya daratan (benua) yang menghalangi perambatan gelombang pasut", explanation: "Benua dan bentuk cekungan samudra yang kompleks menghalangi aliran bebas gelombang pasut, menyebabkan pola pasut yang rumit, termasuk sistem amphidromic." },
                    { question: "Dalam teori pasut setimbang, ketinggian pasut setimbang (Î·) berbanding lurus dengan...", options: ["Percepatan gravitasi (g)", "Potensial GPP (V)", "Kedalaman laut (h)", "Kecepatan rotasi Bumi"], answer: "Potensial GPP (V)", explanation: "Hubungan dasarnya adalah Î· = V/g. Ini menunjukkan bahwa di mana potensial GPP lebih tinggi (di tonjolan), ketinggian permukaan laut setimbang juga lebih tinggi." },
                    { question: "Berapakah perkiraan tunggang pasut setimbang maksimum (spring tide) yang disebabkan oleh gabungan Bulan dan Matahari menurut teori ini?", options: ["Sekitar 10 cm", "Sekitar 80 cm", "Sekitar 2 meter", "Lebih dari 5 meter"], answer: "Sekitar 80 cm", explanation: "Tunggang pasut setimbang akibat Bulan sekitar 54 cm dan Matahari sekitar 25 cm. Saat spring tide, keduanya dijumlahkan (54 + 25 â‰ˆ 79 cm)." },
                    { question: "Mengapa gelombang pasut diperlakukan sebagai gelombang perairan dangkal di lautan terbuka?", options: ["Karena kedalaman laut rata-rata (sekitar 4 km) jauh lebih kecil dari panjang gelombang pasut (ribuan km)", "Karena gelombang pasut bergerak lambat", "Karena amplitudonya kecil", "Karena hanya terjadi di dekat pantai"], answer: "Karena kedalaman laut rata-rata (sekitar 4 km) jauh lebih kecil dari panjang gelombang pasut (ribuan km)", explanation: "Kriteria gelombang perairan dangkal adalah h/L < 1/20. Dengan panjang gelombang (L) ~20.000 km, bahkan kedalaman laut terdalam pun memenuhi kriteria ini." },
                    { question: "Kecepatan rambat gelombang perairan dangkal, seperti gelombang pasut, bergantung pada...", options: ["Amplitudo gelombang", "Periode gelombang", "Kedalaman air (h)", "Suhu air"], answer: "Kedalaman air (h)", explanation: "Kecepatan (c) gelombang perairan dangkal dihitung dengan rumus c = âˆš(gh), di mana g adalah gravitasi dan h adalah kedalaman." },
                    { question: "Berapa kedalaman laut yang diperlukan agar gelombang pasut semidiurnal dapat merambat sesuai dengan kecepatan rotasi Bumi (untuk mencapai kondisi setimbang)?", options: ["Sekitar 4 km", "Sekitar 11 km", "Sekitar 20 km", "Sekitar 500 m"], answer: "Sekitar 20 km", explanation: "Perhitungan menunjukkan bahwa untuk merambat mengelilingi setengah Bumi dalam 12 jam, gelombang pasut memerlukan kecepatan yang hanya bisa dicapai di lautan dengan kedalaman sekitar 20 km. Ini jauh lebih dalam dari kedalaman laut rata-rata." },
                    { question: "Meskipun teori pasut setimbang tidak realistis, mengapa teori ini tetap penting?", options: ["Karena digunakan untuk navigasi sehari-hari", "Karena secara akurat memprediksi ketinggian pasut di pantai", "Karena memperkenalkan konsep GPP dan periode komponen harmonik yang identik dengan pasut sebenarnya", "Karena menjelaskan efek Coriolis"], answer: "Karena memperkenalkan konsep GPP dan periode komponen harmonik yang identik dengan pasut sebenarnya", explanation: "Menurut Laplace, meskipun amplitudo dan fase pasut sebenarnya berbeda, periode (frekuensi) dari komponen-komponen harmoniknya tetap sama dengan yang diturunkan dari GPP dalam teori setimbang." },
                    { question: "Menurut teori pasut setimbang, di titik mana di Bumi air akan surut?", options: ["Di zenith dan nadir", "Di sepanjang lingkaran besar yang tegak lurus terhadap garis Bumi-Bulan (horizon)", "Hanya di kutub", "Hanya di ekuator"], answer: "Di sepanjang lingkaran besar yang tegak lurus terhadap garis Bumi-Bulan (horizon)", explanation: "Untuk membentuk tonjolan di zenith dan nadir, air harus ditarik dari wilayah lain. Wilayah 'sumber' air ini berada di lingkaran yang 90Â° dari sumbu tonjolan, di mana terjadi surut." },
                    { question: "Apa yang dimaksud dengan 'pasut semu' (fictitious tide) dalam konteks teori pasut setimbang?", options: ["Pasut yang terjadi di darat", "Pasut yang diukur dengan satelit", "Permukaan laut ideal yang setiap saat berada dalam kesetimbangan dengan GPP", "Kesalahan dalam pengukuran pasut"], answer: "Permukaan laut ideal yang setiap saat berada dalam kesetimbangan dengan GPP", explanation: "Ini adalah pasut teoretis yang akan terjadi jika kondisi ideal (Bumi tertutup air, tanpa inersia, dll.) terpenuhi. Ini adalah konsep, bukan pasut yang teramati secara nyata." },
                    { question: "Faktor apa yang menyebabkan adanya keterlambatan fase (phase lag) pada pasut sebenarnya dibandingkan pasut setimbang?", options: ["Rotasi Bulan", "Inersia massa air dan gesekan", "Perubahan musim", "Medan magnet Bumi"], answer: "Inersia massa air dan gesekan", explanation: "Dibutuhkan waktu bagi massa air yang sangat besar untuk bergerak merespons GPP karena adanya inersia (kelembaman) dan hambatan dari gesekan dengan dasar laut. Hal ini menyebabkan puncak pasang terjadi beberapa saat setelah Bulan melewati meridian." },
                    { question: "Rasio tunggang pasut saat spring tide terhadap neap tide menurut teori setimbang adalah sekitar...", options: ["1 : 1", "2 : 1", "2.7 : 1", "5 : 1"], answer: "2.7 : 1", explanation: "Rasio ini didapat dari (Gaya Bulan + Gaya Matahari) / (Gaya Bulan - Gaya Matahari), atau (1 + 0.46) / (1 - 0.46) â‰ˆ 1.46 / 0.54 â‰ˆ 2.7." },
                    { question: "Teori Pasut Setimbang pertama kali dikemukakan oleh...", options: ["Laplace", "Doodson", "Newton", "Aristoteles"], answer: "Newton", explanation: "Isaac Newton adalah yang pertama kali menjelaskan pasang surut sebagai akibat dari gaya gravitasi Bulan dan Matahari, yang menjadi dasar dari Teori Pasut Setimbang." },
                    { question: "Jika Bumi tidak berotasi, bagaimana pola pasut setimbangnya?", options: ["Tidak akan ada pasut", "Akan ada satu tonjolan pasut permanen", "Akan ada dua tonjolan pasut permanen yang posisinya tetap terhadap Bulan", "Pasut akan menjadi lebih tinggi"], answer: "Akan ada dua tonjolan pasut permanen yang posisinya tetap terhadap Bulan", explanation: "Rotasi Bumilah yang menyebabkan suatu lokasi di permukaan bergerak melewati kedua tonjolan ini, sehingga kita mengalami siklus pasang dan surut. Tanpa rotasi, tonjolan akan tetap ada namun stasioner." },
                    { question: "Ketinggian pasut setimbang di titik nadir (membelakangi bulan) sedikit lebih rendah daripada di titik zenith. Perbedaan kecil ini disebabkan oleh...", options: ["Pengaruh Matahari", "Suku potensial V3", "Rotasi Bumi", "Bentuk Bumi yang tidak bulat sempurna"], answer: "Suku potensial V3", explanation: "Suku V3 dalam ekspansi potensial GPP, yang bergantung pada (a/R)Â³, menyebabkan sedikit asimetri antara gaya tarik di sisi dekat dan gaya dorong di sisi jauh." }
                ],
                essay: []
            },
            "Seluruh Materi (Kombinasi)": {
                mcq: [
                    // Pertanyaan-pertanyaan ini adalah ringkasan atau kombinasi dari topik-topik sebelumnya
                    { question: "Manakah komponen pasut yang memiliki periode terpanjang?", options: ["M2 (Principal Lunar Semidiurnal)", "K1 (Luni-solar Diurnal)", "Ssa (Solar Semi-annual)", "M4 (Shallow Water Overtide)"], answer: "Ssa (Solar Semi-annual)", explanation: "Ssa adalah komponen periode panjang yang terkait dengan variasi deklinasi matahari dan memiliki periode setengah tahun (sekitar 182 hari)." },
                    { question: "Titik amphidromic adalah titik di samudra di mana...", options: ["Tunggang pasut mencapai maksimum", "Tunggang pasut adalah nol", "Arus pasut paling kencang", "Terjadi pasut purnama setiap hari"], answer: "Tunggang pasut adalah nol", explanation: "Sistem amphidromic adalah pola pasut di mana gelombang pasut berputar mengelilingi satu titik pusat (titik amphidromic) di mana tidak ada perubahan ketinggian air secara vertikal." },
                    { question: "Proses ekspansi potensial GPP menggunakan deret matematika yang disebut...", options: ["Deret Fourier", "Polinomial Taylor", "Polinomial Legendre", "Transformasi Laplace"], answer: "Polinomial Legendre", explanation: "Potensial gravitasi diekspansi menggunakan Polinomial Legendre untuk memisahkannya menjadi suku-suku yang memiliki makna fisis berbeda (konstan, sentrifugal, GPP, dll.)." },
                    { question: "Kombinasi rotasi Bumi (periode ~24 jam) dan revolusi Bulan menyebabkan Bulan tampak kembali ke meridian yang sama setiap...", options: ["24 jam", "24 jam 50 menit", "12 jam 25 menit", "23 jam 56 menit"], answer: "24 jam 50 menit", explanation: "Selama Bumi berotasi sekali, Bulan juga bergerak sedikit dalam orbitnya. Bumi membutuhkan waktu ekstra sekitar 50 menit untuk 'mengejar' posisi Bulan, periode ini disebut hari lunar." },
                    { question: "Pengaruh utama dari deklinasi Bulan terhadap pola pasut adalah munculnya...", options: ["Komponen semidiurnal yang lebih kuat", "Ketidaksamaan harian (diurnal inequality)", "Pasut perbani", "Komponen perairan dangkal"], answer: "Ketidaksamaan harian (diurnal inequality)", explanation: "Ketika Bulan berada di atas atau di bawah ekuator, dua tonjolan pasut menjadi tidak simetris relatif terhadap ekuator, menyebabkan ketinggian dua pasang dalam satu hari menjadi berbeda." },
                    { question: "Dalam sistem Bumi-Bulan, gaya sentrifugal yang dialami setiap partikel di Bumi adalah...", options: ["Berbanding lurus dengan jarak dari pusat Bumi", "Berbanding terbalik dengan jarak dari Bulan", "Sama besar dan arahnya sejajar menjauhi Bulan", "Nol di ekuator"], answer: "Sama besar dan arahnya sejajar menjauhi Bulan", explanation: "Ini adalah konsep kunci untuk memahami GPP. Gaya sentrifugal ini timbul dari revolusi Bumi mengelilingi barycenter, dan besarnya konstan di seluruh Bumi." },
                    { question: "Manakah dari berikut ini yang BUKAN merupakan asumsi dari Teori Pasut Setimbang?", options: ["Bumi seluruhnya tertutup air", "Air merespons GPP secara seketika", "Tidak ada inersia atau gesekan", "Adanya benua dan topografi dasar laut"], answer: "Adanya benua dan topografi dasar laut", explanation: "Teori pasut setimbang secara eksplisit mengabaikan keberadaan benua dan topografi dasar laut untuk menyederhanakan model." },
                    { question: "Perbandingan gaya pembangkit pasut Bulan terhadap Matahari adalah sekitar...", options: ["1 : 1", "2.2 : 1", "1 : 2.2", "5 : 1"], answer: "2.2 : 1", explanation: "Meskipun massa Matahari jauh lebih besar, jaraknya yang sangat jauh membuat GPP-nya lebih kecil. GPP Bulan sekitar 2,2 kali lebih kuat dari GPP Matahari (rasio 1/0.46)." },
                    { question: "Jika seorang pengamat berada di kutub utara, berapa kali ia akan mengalami pasang dalam satu hari lunar menurut teori setimbang?", options: ["Dua kali", "Satu kali", "Tidak tentu", "Tidak pernah"], answer: "Satu kali", explanation: "Di kutub, pengamat hanya akan mengalami satu kali pasang saat deklinasi bulan tidak nol, karena ia tidak berotasi melewati kedua tonjolan. Ketinggian air akan naik dan turun sekali sehari seiring perubahan deklinasi bulan." },
                    { question: "Arus yang bergerak keluar dari estuari saat muka air laut turun disebut...", options: ["Flood current", "Ebb current", "Slack water", "Longshore current"], answer: "Ebb current", explanation: "'Ebb' adalah istilah untuk fase surut, dan 'ebb current' adalah arus yang terkait dengannya." },
                    { question: "Komponen pasut N2 (Larger Lunar Elliptic) disebabkan oleh...", options: ["Deklinasi Bulan", "Variasi jarak Bulan akibat orbitnya yang elips", "Pengaruh Matahari", "Gesekan dasar laut"], answer: "Variasi jarak Bulan akibat orbitnya yang elips", explanation: "Komponen N2 memodulasi amplitudo M2, menjadi lebih kuat saat Bulan di perigee (jarak terdekat) dan lebih lemah saat di apogee (jarak terjauh)." },
                    { question: "Periode komponen M2 adalah 12,42 jam, sedangkan periode S2 adalah 12,00 jam. Perbedaan kecil ini menyebabkan siklus spring-neap setiap...", options: ["1 hari", "7 hari", "Sekitar 14,8 hari", "27,3 hari"], answer: "Sekitar 14,8 hari", explanation: "Siklus spring-neap terjadi karena interferensi antara gelombang M2 dan S2. Periode antara dua spring tide berturut-turut adalah waktu yang dibutuhkan gelombang S2 untuk 'menyusul' gelombang M2, yaitu sekitar setengah bulan sinodis." },
                    { question: "Potensial GPP dari suku V0 bernilai konstan, sehingga...", options: ["Menghasilkan gaya terbesar", "Menghasilkan pasut diurnal", "Tidak menghasilkan gaya apapun", "Menghasilkan arus pasut"], answer: "Tidak menghasilkan gaya apapun", explanation: "Gaya adalah gradien (turunan spasial) dari potensial. Jika potensial konstan di seluruh ruang, maka tidak ada perbedaan potensial dan tidak ada gaya yang dihasilkan." },
                    { question: "Dalam segitiga bola langit yang digunakan untuk menurunkan persamaan potensial, sudut H merepresentasikan...", options: ["Lintang pengamat", "Deklinasi Bulan", "Sudut jam Bulan", "Azimuth Bulan"], answer: "Sudut jam Bulan", explanation: "Sudut jam (Hour Angle) adalah koordinat yang digunakan dalam astronomi untuk menyatakan posisi benda langit di langit, diukur ke arah barat dari meridian pengamat." }
                ],
                essay: [
                    { question: "Jelaskan secara konseptual mengapa terjadi dua tonjolan pasang di Bumi, bukan hanya satu. Libatkan konsep gaya gravitasi diferensial dan gaya sentrifugal dalam penjelasan Anda.", answer: "Terjadinya dua tonjolan pasang adalah akibat dari interaksi antara gaya gravitasi Bulan dan gaya sentrifugal sistem Bumi-Bulan. \n1. **Gaya Gravitasi Diferensial:** Gaya tarik gravitasi Bulan tidak seragam di seluruh Bumi. Di sisi Bumi yang paling dekat dengan Bulan (zenith), gaya tariknya paling kuat. Di pusat Bumi, gaya tariknya lebih lemah. Di sisi yang paling jauh (nadir), gaya tariknya paling lemah. \n2. **Gaya Sentrifugal:** Akibat revolusi Bumi dan Bulan mengelilingi pusat massa bersama (barycenter), setiap titik di Bumi mengalami gaya sentrifugal yang besarnya sama dan arahnya selalu menjauhi Bulan. \n**Kombinasi:** \n- **Di Sisi Dekat (Zenith):** Gaya gravitasi Bulan lebih besar daripada gaya sentrifugal. Resultan gayanya mengarah ke Bulan, menarik air dan menciptakan tonjolan pasang pertama. \n- **Di Sisi Jauh (Nadir):** Gaya sentrifugal lebih besar daripada gaya gravitasi Bulan yang sudah melemah. Resultan gayanya menjauhi Bulan, 'mendorong' air dan menciptakan tonjolan pasang kedua. \nDengan demikian, GPP adalah gaya *diferensial*, yaitu perbedaan antara tarikan gravitasi lokal dengan gaya sentrifugal (yang setara dengan tarikan gravitasi di pusat Bumi)." },
                    { question: "Bandingkan dan kontraskan Teori Pasut Setimbang dengan kondisi pasut yang sebenarnya (Pasut Dinamis). Sebutkan minimal tiga faktor yang menyebabkan perbedaan tersebut.", answer: "Teori Pasut Setimbang adalah model ideal di mana permukaan laut adalah elipsoid yang setiap saat berada dalam kesetimbangan sempurna dengan Gaya Pembangkit Pasut (GPP). Pasut Dinamis adalah pasut yang benar-benar terjadi di lautan, yang memperlakukan pasut sebagai gelombang yang merambat dan berinteraksi dengan lingkungannya. \nPerbedaan utama disebabkan oleh: \n1. **Adanya Daratan:** Benua dan pulau menghalangi perambatan bebas gelombang pasut, memaksanya untuk dipantulkan, dibiaskan, dan bergerak melalui cekungan samudra yang kompleks. \n2. **Inersia dan Gesekan:** Air memiliki massa (inersia), sehingga butuh waktu untuk merespons GPP. Akibatnya, ada keterlambatan waktu antara posisi Bulan di atas kepala dengan terjadinya pasang tertinggi. Gesekan dengan dasar laut juga menghilangkan energi dari gelombang pasut. \n3. **Kedalaman Laut Terbatas:** Teori setimbang memerlukan kedalaman laut ~20 km agar gelombang pasut dapat 'mengimbangi' rotasi Bumi. Kedalaman laut nyata yang jauh lebih dangkal membatasi kecepatan rambat gelombang pasut, sehingga pasut yang sebenarnya tidak pernah mencapai kondisi setimbang." },
                    { question: "Jelaskan apa itu komponen harmonik pasut dan mengapa analisis ini digunakan. Berikan contoh komponen dari spesies Semidiurnal, Diurnal, dan Periode Panjang.", answer: "Analisis harmonik adalah metode matematis untuk menguraikan variasi ketinggian air laut yang kompleks menjadi penjumlahan dari sejumlah gelombang kosinus sederhana. Setiap gelombang ini disebut 'komponen harmonik', yang masing-masing memiliki amplitudo, periode, dan fase yang tetap untuk lokasi tertentu. Metode ini digunakan karena GPP itu sendiri merupakan hasil dari berbagai siklus astronomi yang periodik. \nContoh komponen: \n- **Semidiurnal (sekitar 2 siklus/hari):** M2 (Principal Lunar Semidiurnal), komponen utama dari Bulan dengan periode 12,42 jam. S2 (Principal Solar Semidiurnal), komponen utama dari Matahari dengan periode 12,00 jam. \n- **Diurnal (sekitar 1 siklus/hari):** K1 (Luni-solar Diurnal), komponen akibat deklinasi Bulan dan Matahari. O1 (Principal Lunar Diurnal), komponen diurnal utama dari Bulan. \n- **Periode Panjang (siklus > 1 hari):** Mf (Lunar Fortnightly), periode ~14 hari akibat siklus deklinasi Bulan. Ssa (Solar Semi-annual), periode setengah tahun akibat siklus deklinasi Matahari." },
                    { question: "Jelaskan hubungan antara Pasang Purnama (Spring Tide) dan Pasang Perbani (Neap Tide) dengan komponen harmonik M2 dan S2.", answer: "Pasang Purnama dan Perbani adalah hasil dari interferensi (penjumlahan atau pengurangan) antara gelombang pasut yang dibangkitkan oleh Bulan (terutama M2) dan Matahari (terutama S2).\n- **Pasang Purnama (Spring Tide):** Terjadi saat Bulan baru dan purnama. Pada posisi ini, puncak gelombang M2 dan S2 hampir berimpitan (sefase). Akibatnya, amplitudo mereka saling menjumlahkan (interferensi konstruktif), menghasilkan tunggang pasut yang sangat besar (pasang lebih tinggi, surut lebih rendah).\n- **Pasang Perbani (Neap Tide):** Terjadi saat Bulan berada pada fase kuartal pertama dan ketiga. Pada posisi ini, puncak gelombang M2 berimpitan dengan lembah gelombang S2 (berbeda fase 180 derajat). Amplitudo mereka saling mengurangi (interferensi destruktif), menghasilkan tunggang pasut yang sangat kecil (pasang tidak terlalu tinggi, surut tidak terlalu rendah)." }
                ]
            }
        };

        // --- Logika Kuis ---
        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');
        const topicSelection = document.getElementById('topic-selection');
        const quizTopicTitle = document.getElementById('quiz-topic-title');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const essayContainer = document.getElementById('essay-container');
        const essayAnswer = document.getElementById('essay-answer');
        const questionCounter = document.getElementById('question-counter');
        const topicScoresBreakdown = document.getElementById('topic-scores-breakdown');
        const answersReview = document.getElementById('answers-review');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const modal = document.getElementById('explanationModal');
        const navPanel = document.getElementById('nav-panel');
        const navGrid = document.getElementById('nav-grid');
        const progressBar = document.getElementById('progress-bar');

        let currentQuestionIndex = 0;
        let userAnswers = [];
        let activeQuestions = [];
        let selectedOptionElement = null;
        let currentTopic = '';

        function initializeTopicSelection() {
            topicSelection.innerHTML = '';
            const topics = Object.keys(quizDataCategorized);
            // Hapus "Seluruh Materi (Kombinasi)" dari daftar tombol individu
            const individualTopics = topics.filter(t => t !== "Seluruh Materi (Kombinasi)");
            
            individualTopics.forEach(topic => {
                const button = document.createElement('button');
                button.textContent = topic;
                button.classList.add('topic-button', 'w-full', 'p-4', 'bg-white', 'border-2', 'border-blue-300', 'rounded-lg', 'text-blue-700', 'font-semibold', 'hover:bg-blue-50');
                button.onclick = () => startQuiz(topic);
                topicSelection.appendChild(button);
            });

            // Tombol "Semua Topik"
            const allButton = document.createElement('button');
            const totalQuestions = quizDataCategorized["Seluruh Materi (Kombinasi)"].mcq.length + quizDataCategorized["Seluruh Materi (Kombinasi)"].essay.length;
            const totalMCQ = Object.values(quizDataCategorized).reduce((sum, topic) => sum + topic.mcq.length, 0);
            const totalEssay = Object.values(quizDataCategorized).reduce((sum, topic) => sum + topic.essay.length, 0);

            allButton.textContent = `Semua Topik (${totalMCQ} PG & ${totalEssay} Esai)`;
            allButton.classList.add('topic-button', 'w-full', 'p-4', 'bg-blue-600', 'text-white', 'font-bold', 'rounded-lg', 'md:col-span-2');
            allButton.onclick = () => startQuiz('Semua Topik');
            topicSelection.appendChild(allButton);
        }

        function startQuiz(topic) {
            currentTopic = topic;
            startScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            resultScreen.classList.add('hidden');
            
            if (topic === 'Semua Topik') {
                activeQuestions = [];
                Object.keys(quizDataCategorized).forEach(catName => {
                    const category = quizDataCategorized[catName];
                    activeQuestions.push(...category.mcq.map(q => ({...q, topic: catName})));
                    activeQuestions.push(...category.essay.map(q => ({...q, topic: catName})));
                });
            } else {
                const category = quizDataCategorized[topic];
                activeQuestions = [
                    ...category.mcq.map(q => ({...q, topic})),
                    ...category.essay.map(q => ({...q, topic}))
                ];
            }
            
            activeQuestions = shuffleArray(activeQuestions);

            quizTopicTitle.textContent = topic;
            currentQuestionIndex = 0;
            userAnswers = Array(activeQuestions.length).fill(null).map((_, i) => ({
                question: activeQuestions[i].question,
                userAnswer: null,
                correctAnswer: activeQuestions[i].answer,
                isCorrect: null,
                explanation: activeQuestions[i].explanation,
                type: activeQuestions[i].options ? 'mcq' : 'essay',
                topic: activeQuestions[i].topic
            }));
            
            populateNavPanel();
            loadQuiz();
        }
        
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function populateNavPanel() {
            navGrid.innerHTML = '';
            activeQuestions.forEach((_, index) => {
                const btn = document.createElement('button');
                btn.innerHTML = `<span>${index + 1}</span>`;
                btn.classList.add('nav-btn', 'p-2', 'rounded-md', 'transition-colors', 'duration-200', 'flex', 'items-center', 'justify-center');
                btn.onclick = () => jumpToQuestion(index);
                navGrid.appendChild(btn);
            });
        }

        function updateNavPanel() {
            const navButtons = navGrid.children;
            const checkmarkSVG = `<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-check-lg inline-block ml-1" viewBox="0 0 16 16"><path d="M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z"/></svg>`;

            for (let i = 0; i < navButtons.length; i++) {
                navButtons[i].classList.remove('current', 'answered');
                navButtons[i].innerHTML = `<span>${i + 1}</span>`; 

                if (userAnswers[i] && userAnswers[i].userAnswer !== null && userAnswers[i].userAnswer.trim() !== '') {
                    navButtons[i].classList.add('answered');
                    navButtons[i].innerHTML = `<span>${i + 1}</span>${checkmarkSVG}`;
                }
                if (i === currentQuestionIndex) {
                    navButtons[i].classList.add('current');
                }
            }
        }

        function toggleNavPanel() {
            navPanel.classList.toggle('hidden');
            if (!navPanel.classList.contains('hidden')) {
                updateNavPanel();
            }
        }

        function jumpToQuestion(index) {
            saveCurrentAnswer();
            currentQuestionIndex = index;
            loadQuiz();
            toggleNavPanel();
        }

        function saveCurrentAnswer() {
            const currentQuestion = activeQuestions[currentQuestionIndex];
            let userAnswer = null;

            if (currentQuestion.options) {
                const selected = optionsContainer.querySelector('.selected');
                if (selected) userAnswer = selected.textContent;
            } else {
                if (essayAnswer.value.trim() !== '') userAnswer = essayAnswer.value.trim();
            }

            userAnswers[currentQuestionIndex].userAnswer = userAnswer;
            if (currentQuestion.options) {
                userAnswers[currentQuestionIndex].isCorrect = (userAnswer === currentQuestion.answer);
            }
        }

        function loadQuiz() {
            deselectOptions();
            const currentQuestionData = userAnswers[currentQuestionIndex];
            questionText.textContent = currentQuestionData.question;
            questionCounter.textContent = `Soal ${currentQuestionIndex + 1} / ${activeQuestions.length}`;
            progressBar.style.width = `${((currentQuestionIndex + 1) / activeQuestions.length) * 100}%`;

            if (currentQuestionData.type === 'mcq') {
                optionsContainer.classList.remove('hidden');
                essayContainer.classList.add('hidden');
                optionsContainer.innerHTML = '';
                const options = shuffleArray([...activeQuestions[currentQuestionIndex].options]);
                options.forEach(option => {
                    const button = document.createElement('button');
                    button.textContent = option;
                    button.classList.add('quiz-option', 'w-full', 'p-4', 'border-2', 'rounded-lg', 'text-left', 'hover:bg-blue-100', 'transition', 'duration-200');
                    button.onclick = () => selectAnswer(button);
                    if (option === currentQuestionData.userAnswer) {
                        button.classList.add('selected');
                        selectedOptionElement = button;
                    }
                    optionsContainer.appendChild(button);
                });
            } else {
                optionsContainer.classList.add('hidden');
                essayContainer.classList.remove('hidden');
                essayAnswer.value = currentQuestionData.userAnswer || '';
            }
            
            prevBtn.style.visibility = currentQuestionIndex === 0 ? 'hidden' : 'visible';
            nextBtn.textContent = currentQuestionIndex === activeQuestions.length - 1 ? 'Selesai' : 'Selanjutnya';
        }

        function selectAnswer(buttonElement) {
            deselectOptions();
            selectedOptionElement = buttonElement;
            buttonElement.classList.add('selected');
        }

        function deselectOptions() {
            const options = document.querySelectorAll('.quiz-option');
            options.forEach(option => option.classList.remove('selected'));
            selectedOptionElement = null;
        }
        
        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                saveCurrentAnswer();
                currentQuestionIndex--;
                loadQuiz();
            }
        }

        function nextQuestion() {
            saveCurrentAnswer();
            if (currentQuestionIndex < activeQuestions.length - 1) {
                currentQuestionIndex++;
                loadQuiz();
            } else {
                showResults();
            }
        }

        function showResults() {
            saveCurrentAnswer();
            quizScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');

            const topicScores = {};
            userAnswers.forEach(answer => {
                if (answer.type !== 'mcq') return;
                if (!topicScores[answer.topic]) {
                    topicScores[answer.topic] = { correct: 0, total: 0 };
                }
                topicScores[answer.topic].total++;
                if (answer.isCorrect) {
                    topicScores[answer.topic].correct++;
                }
            });

            topicScoresBreakdown.innerHTML = '<h3 class="text-xl font-bold mb-4">Rincian Skor per Topik (Pilihan Ganda)</h3>';
            let totalCorrect = 0;
            let totalQuestions = 0;
            
            const sortedTopics = Object.keys(quizDataCategorized).sort();

            sortedTopics.forEach(topic => {
                if (topicScores[topic] && topicScores[topic].total > 0) {
                    const score = topicScores[topic];
                    totalCorrect += score.correct;
                    totalQuestions += score.total;
                    const percentage = score.total > 0 ? ((score.correct / score.total) * 100).toFixed(0) : 0;
                    topicScoresBreakdown.innerHTML += `
                        <div class="flex justify-between items-center mb-2">
                            <span class="font-semibold">${topic}</span>
                            <span class="font-bold">${score.correct}/${score.total} (${percentage}%)</span>
                        </div>
                    `;
                }
            });

            if (totalQuestions > 0) {
                const totalPercentage = ((totalCorrect / totalQuestions) * 100).toFixed(0);
                topicScoresBreakdown.innerHTML += `<hr class="my-2"><div class="flex justify-between items-center mt-2">
                    <span class="font-bold text-lg text-blue-600">Skor Total</span>
                    <span class="font-bold text-lg text-blue-600">${totalCorrect}/${totalQuestions} (${totalPercentage}%)</span>
                </div>`;
            } else {
                 topicScoresBreakdown.innerHTML += `<p>Tidak ada soal pilihan ganda yang dikerjakan.</p>`;
            }


            answersReview.innerHTML = '';
            userAnswers.forEach((answer, index) => {
                const reviewItem = document.createElement('div');
                reviewItem.classList.add('p-4', 'mb-4', 'border', 'rounded-lg');
                
                let answerStatusHtml = '';
                if (answer.type === 'mcq') {
                    if (answer.isCorrect) {
                        reviewItem.classList.add('bg-green-50', 'border-green-200');
                        answerStatusHtml = `<p class="mt-2"><strong>Jawaban Anda:</strong> <span class="text-green-700 font-semibold">${answer.userAnswer || '(Tidak dijawab)'} (Benar)</span></p>`;
                    } else {
                        reviewItem.classList.add('bg-red-50', 'border-red-200');
                        answerStatusHtml = `
                            <p class="mt-2"><strong>Jawaban Anda:</strong> <span class="text-red-700 font-semibold">${answer.userAnswer || '(Tidak dijawab)'} (Salah)</span></p>
                            <p class="mt-1"><strong>Jawaban Benar:</strong> <span class="text-green-700 font-semibold">${answer.correctAnswer}</span></p>
                        `;
                    }
                } else { // Essay
                     reviewItem.classList.add('bg-blue-50', 'border-blue-200');
                     answerStatusHtml = `
                        <p class="mt-2"><strong>Jawaban Anda (Esai):</strong></p>
                        <p class="italic text-gray-700 p-2 bg-white rounded">${answer.userAnswer || '(Tidak dijawab)'}</p>
                        <p class="mt-2"><strong>Kunci Jawaban:</strong></p>
                        <p class="text-gray-800 p-2 bg-gray-100 rounded">${answer.correctAnswer}</p>
                     `;
                }

                reviewItem.innerHTML = `
                    <p class="font-semibold">${index + 1}. ${answer.question}</p>
                    <p class="text-xs text-gray-500">Topik: ${answer.topic}</p>
                    ${answerStatusHtml}
                    ${(answer.type === 'mcq' && answer.explanation) ? `<button onclick="showExplanation(${index})" class="mt-2 text-sm text-blue-600 hover:underline">Lihat Penjelasan</button>` : ''}
                `;
                answersReview.appendChild(reviewItem);
            });
        }
        
        function restartQuiz() {
            resultScreen.classList.add('hidden');
            startScreen.classList.remove('hidden');
        }

        function showExplanation(index) {
            const answer = userAnswers[index];
            document.getElementById('modal-question').textContent = answer.question;
            document.getElementById('modal-correct-answer').textContent = answer.correctAnswer;
            document.getElementById('modal-explanation').textContent = answer.explanation || "Penjelasan tidak tersedia.";
            modal.classList.remove('hidden');
            setTimeout(() => modal.querySelector('div').classList.remove('scale-95'), 10);
        }

        function closeModal() {
            modal.querySelector('div').classList.add('scale-95');
            setTimeout(() => modal.classList.add('hidden'), 300);
        }

        // Initialize
        window.onload = initializeTopicSelection;

    </script>
</body>
</html>

